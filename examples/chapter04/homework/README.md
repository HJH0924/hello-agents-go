# 第四章 智能体经典范式构建 - 习题解答

本目录包含《第四章 智能体经典范式构建》的习题解答。

## 习题列表

### ✅ [习题1：三种范式分析](./习题1-三种范式分析.md)

**核心内容**：
- 分析 ReAct、Plan-and-Solve、Reflection 三种范式在"思考"与"行动"组织方式上的本质区别
- 为智能家居控制助手选择合适的架构范式
- 设计混合范式的智能体架构

**关键要点**：
- ReAct: 动态交织式，适合探索性任务
- Plan-and-Solve: 两阶段分离式，适合结构化任务
- Reflection: 迭代优化式，适合高质量要求任务
- 混合范式: Plan-ReAct-Reflection (PRR) 架构

---

### ✅ [习题2：ReAct输出解析问题](./习题2-ReAct输出解析问题.md)

**核心内容**：
- 分析正则表达式解析方法的脆弱性
- 提出更鲁棒的输出解析方案
- 对比不同解析方案的优缺点

**关键要点**：
- 正则表达式的问题：大小写敏感、多行截断、格式变体
- 改进方案：JSON格式、XML格式、Function Calling
- 推荐：JSON格式（平衡稳定性和通用性）

---

### 🔨 [习题3：工具调用扩展实践](./习题3-工具调用扩展实践.md)

**实践内容**：
- 为 ReAct 智能体添加计算器工具
- 实现工具选择失败的处理机制
- 优化大规模工具的组织和检索

**涉及代码**：
- `calculator_tool.go`: 计算器工具实现
- `tool_selector.go`: 工具选择优化
- `calculator_test.go`: 测试用例

---

### 📝 [习题4：Plan-and-Solve分析](./习题4-Plan-and-Solve分析.md)

**核心内容**：
- 设计动态重规划机制
- 对比 Plan-and-Solve 与 ReAct 的适用场景
- 设计分层规划系统

**关键要点**：
- 动态重规划：在执行失败时触发重新规划
- 商务旅行预订：适合 Plan-and-Solve（结构清晰）
- 分层规划：高层抽象计划 + 详细子计划

---

### 💭 [习题5：Reflection机制分析](./习题5-Reflection机制分析.md)

**核心内容**：
- 分析使用不同模型的影响
- 设计更智能的终止条件
- 构建多维度 Reflection 机制

**关键要点**：
- 双模型策略：强模型反思 + 快模型执行
- 智能终止：基于质量评分而非关键词
- 多维度反思：逻辑、创新、语言、规范等

---

### 🎯 [习题6：提示词工程分析](./习题6-提示词工程分析.md)

**核心内容**：
- 对比不同范式的提示词设计差异
- 分析角色设定对智能体行为的影响
- 使用 Few-shot 提升格式遵循能力

**关键要点**：
- ReAct vs Plan-and-Solve：动态引导 vs 结构约束
- 角色设定：严格专家 vs 友好维护者
- Few-shot 示例：提升格式稳定性

---

### 🛍️ [习题7：电商客服智能体设计](./习题7-电商客服智能体设计.md)

**综合设计**：
- 选择合适的架构范式
- 设计必要的工具集
- 平衡公司利益与用户体验
- 识别潜在风险并提出应对方案

**关键要点**：
- 架构：ReAct + Reflection 混合模式
- 工具：订单查询、退款审批、邮件发送
- 风险：误判、数据泄露、用户不满

---

## 学习建议

1. **理论与实践结合**：
   - 先完成理论分析题（习题1、2、4、5、6）
   - 再进行代码实践题（习题3）
   - 最后完成综合设计题（习题7）

2. **循序渐进**：
   - 从单一范式理解开始
   - 逐步过渡到混合范式设计
   - 最终能够针对实际场景选择合适方案

3. **动手实践**：
   - 习题3是动手题，建议实际编写代码
   - 可以在现有代码基础上进行扩展
   - 运行测试验证实现效果

4. **思考与创新**：
   - 这些习题没有标准答案
   - 鼓励独立思考和创新性设计
   - 重点培养架构设计能力

---

## 代码示例

本目录中包含的代码示例：

```
homework/
├── README.md                          # 本文件
├── 习题1-三种范式分析.md              # 已完成
├── 习题2-ReAct输出解析问题.md         # 已完成
├── 习题3-工具调用扩展实践.md          # 理论 + 代码
├── 习题4-Plan-and-Solve分析.md        # 理论分析
├── 习题5-Reflection机制分析.md        # 理论分析
├── 习题6-提示词工程分析.md            # 理论 + 实验
└── 习题7-电商客服智能体设计.md        # 综合设计
```

---

## 参考资源

- 教材：《第四章 智能体经典范式构建》
- 代码仓库：`examples/chapter04/`
- 相关论文：
  - ReAct: Yao S, et al. ICLR 2023
  - Plan-and-Solve: Wang L, et al. arXiv 2023
  - Reflexion: Shinn N, et al. NeurIPS 2023

---

## 完成状态

- ✅ 习题1：已完成（详细分析）
- ✅ 习题2：已完成（详细分析 + 代码示例）
- 🔨 习题3：框架完成（需补充实践代码）
- 📝 习题4：框架完成（需补充详细分析）
- 💭 习题5：框架完成（需补充详细分析）
- 🎯 习题6：框架完成（需补充实验结果）
- 🛍️ 习题7：框架完成（需补充架构设计）

---

最后更新：2025-10-31
